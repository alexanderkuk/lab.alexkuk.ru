Как я участвовал в хакатоне про открытые данные

26 июня в Москве проходил <a href="http://data.gov.ru/node/15034">хакатон портала открытых данных data.gov.ru</a>. Я в нём участвовал, выиграл в номинации от Правительства Москвы и хотел бы поделиться наблюдениями и впечатлениями.

За несколько дней до мероприятия я решил, что нужно придумать какую-нибудь идею и <a href="https://github.com/alexanderkuk/analyze-opendata/blob/master/notes.ipynb">пошёл изучать данные, выложенные на data.gov.ru</a>. Немного приуныл от кучи табличек вида "перечень регистров, реестров и подведомственных организаций" и решил искать интересные датасеты не по названию, а по числу строк. Скачал все 3000 документов, отсортировал по размеру и посмотрел на топ. Некоторые датасеты выглядели интересно, например, <a href="http://data.gov.ru/opendata/7705851331-registermovies">все фильмы замеченные в русском прокате</a>, <a href="http://data.gov.ru/opendata/7717509757-kontraktbudjet">затраты на дороги</a>, <a href="http://data.gov.ru/opendata/7705851331-podvedytenders">что-то про конкурсы и тендеры</a>, но никакого толкового применения для них я придумать не смог. Потом я решил сузить область поиска и посмотрел только на данные про Москву на <a href="http://data.mos.ru">data.mos.ru</a>. Нашёл много интересного: <a href="http://data.mos.ru/datasets/1500">реест камер во дворах и подъездах</a>, <a href="http://data.mos.ru/datasets/751">маршруты парконов</a>, <a href="http://data.mos.ru/datasets/759">данные про нарушения ПДД</a>. В итоге, я пошёл на хакатон с двумя идеями: выделить аптеки без лицензий и найти заправки с плохим бензином.
<habracut text="В начале мероприятия мне грамотно объяснили, что мои идеи - отстой, потому что..."/>
В начале мероприятия мне грамотно объяснили, что мои идеи - отстой, потому что в <a href="http://data.mos.ru/datasets/1188">реестр лицензий на фармацевтическую деятельность</a> не входит куча прекрасных коммерческих аптек и отмечать их как плохие нельзя, а в <a href="http://data.mos.ru/datasets/754">списке АЗС, реализующих топливо, несоответствующее установленным экологическим требованиям</a> 14 строк и крупные сети туда не входят. Потом я вспомнил про датасет с маршрутами парконов и предложил его нарисовать на карте, посмотреть, может быть, где-то есть белые пятна. Оказалось, что кто-то такое уже делал, и, вообще, <a href="http://data.mos.ru/datasets/751/data/map?versionNumber=2&releaseNumber=1">визуализация есть на самом портале</a>, но попробовать можно.

Первым делом я попробовал распарсить маршруты и нарисовать их на картинке. С форматом и качеством данных проблем не возникло.
<img src="https://habrastorage.org/files/e53/588/b94/e53588b9464a4f8c962f4ec003650150.png"/>

Потом я нанёс всё это на карту, проверил, что сильно не тормозит и выглядит нормально.
<img src="https://habrastorage.org/files/419/767/a9c/419767a9cd7848b79d223744ef3b599c.png"/>

Дальше началось самое интересное, я решил <a href="https://github.com/alexanderkuk/gdeparkon.ru/blob/master/notes.ipynb">поизучать сами треки</a>. Нашёл, самый короткий и самый длинный маршрут, самый равноудалённый и самый петляющий. <a href="https://www.google.com/fusiontables/DataSource?docid=13uoVLJOXr9-ofJWL1u7mNWAiXMWhS69ybh4GCksE#map:id=3">Построил тепловую карту</a> и нашёл место максимального скопления патрулей.
<img src="https://habrastorage.org/files/60f/489/704/60f489704bfc4c5d82a1b419659ff050.png"/>

Вынес самые прикольные наблюдения в шапку и выложил всё это на <a href="http://gdeparkon.ru">gdeparkon.ru</a>.
<img src="https://habrastorage.org/files/cd6/fa3/6b1/cd6fa36b111f470b8696e1917bfa067b.png"/>

Естественно, за кадром я оставил то, как час пытался оптимизировать сайт для Фейсбука и потерпел поражение, как бесконечно настраивал цвет и обводку линий на карте и как в ночи пытался осознать history.js. Короче говоря, времени мне хватило впритык и спал я мало.

На презентации оказалось, что датасет, который я использовал уже устарел. В пределах Садового кольца парконы заменяются инспекторами МАДИ, треков их маршрутов пока нет. В целом, идея и реализация, всем понравилась. Возможно, новые данные я тоже когда-нибудь получу и добавлю на карту.

На регламент презентаций жёстко забивали. Примерно 20 команд мы слушали около трёх часов. Меня, конечно, удивило, что почти никто не показывал, как работает их решение вживую, только картинки на слайдах. Видимо, это особенность формата. Записал для себя некоторые интересные ссылки и факты: Strava выкладывает <a href="http://labs.strava.com/heatmap/#13/37.65529/55.84189/yellow/bike">агрегированные велосипедные треки</a>, для Телеграма <a href="https://core.telegram.org/bots">можно писать ботов</a>, правительство готово делиться видео с камер во дворах и подъездах.

В итоге мне дали диплом в рамочке и обещали связаться. Мне понравилось. Организаторы бодрые и современные. Комментарии грамотные, замечания по делу. Эмуляция проваленного дедлайна мне не понравилась. Участвовать в хакатоне одному тяжело и не супер весело. Не советую. Надо очень хорошо поработать над идеей, в хакатоне, видимо, это самое важное. Нужно придумать что-то не слишком простое, но и не слишком сложное, чтобы успеть хотя бы прототип.
