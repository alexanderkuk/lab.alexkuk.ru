Поиск потенциальных фолловеров в Твиттере

Предположим есть аккаунт в Твиттере, в который пишут на достаточно ограниченный круг тем, на который подписано несколько сотен или тысяч человек. Как понять какая доля аудитории ещё не охвачена? Как найти этих людей?

Для примера рассмотрим аккаунт @Russia_Direct. Это небольшое издание, которое освещает события в России для англоязычных читателей. Что-то типа Russia Today, но с более глубокими и академичными материалами.

<img src="https://habrastorage.org/files/e14/1c4/e6d/e141c4e6d0a94a9da16e9fffc914e250"/>

Сейчас на них подписаны ~4000 человек — студенты, журналисты, преподаватели университетов:

<img src="https://habrastorage.org/files/d02/a82/92d/d02a8292db9c47bfaa31de0c0dc6ca42"/>
<cut />
В среднем их подписчики фолловят 500 аккаунтов. Есть какой-то странный гребень в районе 2000. То есть аномально много людей фолловят ~2000 аккаунтов. Возможно, это роботы? Кто знает, напишите в комментариях. 

<img src="https://habrastorage.org/files/fb0/89d/513/fb089d51323c46529d101163e20b26c2"/>

Посмотрим кого кроме RD фолловят эти люди. У Твиттера совершенно драконовские лимиты на обращения к АПИ, забирать  список подписок можно только раз минуту. Поэтому на 4000 пользователей нужно потратить 4000 минут. Ничего, ждём пол недели, получаем список из 4 000 000 аккаунтов. Сортируем его по доле аудитории, которая подписана на RD, смотрим на топ и видим интересное:
<ul>
<li>
Например, из 497 подписчиков @NewBooksRussia 122 подписаны на RD. Значит аудитория этих двух аккаунтов очень похожа. Грубо говоря, можно считать, что остальные 375 подписчиков @NewBooksRussia — это потенциальные фолловеры RD.
</li>
<li>На первом месте, конечно, RD. Почему не 100% подписчиков RD подписаны на RD? В силу ряда технических причин. Некоторые профили под замочком, для них список подписок получить нельзя. Иногда АПИ отвечает странными ошибками.</li>
</ul>
<img src="https://habrastorage.org/files/cc6/dd3/74c/cc6dd374c8fe430da2628bab560b47f4"/>

Здесь нужно упомянуть, что просто так считать долю подписчиков нельзя, в топе будут аккаунты, у которых всего 1 фолловер, из них доля подписанных на RD автоматически 100%. Можно выкидывать мелкие аккаунты, но непонятно по какому порогу. 50 фолловеров — это мало или достаточно? В таких случаях я люблю использовать для сортировки не долю (n / N), а вот такой показатель n / N - 3 sqrt(n (N - n + 1) / N<sup>3</sup>). Почему именно его, можно понять, например, из <a href="http://nbviewer.ipython.org/github/CamDavidsonPilon/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/blob/master/Chapter4_TheGreatestTheoremNeverTold/Chapter4.ipynb#Example:-How-to-order-Reddit-comments">Probabilistic Programming and Bayesian Methods for Hackers</a>.

Таким образом, у нас на руках оказывается список аккаунтов похожих на RD. Этот список сам по себе полезен. Можно посмотреть какие есть конкуренты, о чём они пишут. Собрать потенциальных фолловеров теперь несложно, нужно скачать списки фолловеров похожих аккаунтов и посмотреть, какие пользователи встречаются несколько раз. Вот, например, некий румынский чиновник подписан на 5 похожих на RD аккаунтов, а на RD не подписан:

<img src="https://habrastorage.org/files/54e/a5b/c43/54ea5bc43f4040d387a78eda5fa91604"/>

И таких очень много.

<img src="https://habrastorage.org/files/057/b3d/a98/057b3da98f3240359d7e3c08e7602c9b"/>
<img src="https://habrastorage.org/files/445/dda/ff4/445ddaff4a4b480d9a382e2ede9b1a74"/>

Может возникнуть необходимость отделить аккаунты людей от аккаунтов организаций. В первом приближении можно считать, что если на аватарке есть лицо, значит это человек. <a href="https://realpython.com/blog/python/face-recognition-with-python/">Простейший код с использованием OpenCV</a> неплохо справляется с задачей:

<img src="https://habrastorage.org/files/17f/d7d/4f8/17fd7d4f857a456ab56cdec8ce8c92f6"/>

Дальше этих людей можно исследовать, писать им сообщения и твиты, фолловить и настраивать рекламные кампании.
